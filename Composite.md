Паттерны проектирования
=======================

Авторы: Гарафиева Венера

Паттерн Composite / "Компоновщик"
--------------
**Компоновщик** – это структурный паттерн проектирования, который позволяет сгруппировать множество объектов в древовидную структуру, а затем работать с ней так, как будто это единый объект.
![](https://radioprog.ru/uploads/media/articles/0001/06/fd643b6ac0ff7b8bffc9e8aec8b2cffef87e0f7b.png)

Проблема
--------
Паттерн Компоновщик имеет смысл только тогда, когда основная модель вашей программы может быть структурирована в виде дерева.

Например, есть два объекта: **Продукт** и **Коробка**. **Коробка** может содержать несколько **Продуктов** и других **Коробок** поменьше. Те, в свою очередь, тоже содержат либо **Продукты**, либо **Коробки**, и так далее.

Теперь предположим, ваши **Продукты** и **Коробки** могут быть частью заказов. Каждый заказ может содержать как простые **Продукты** без упаковки, так и составные **Коробки**. Ваша задача состоит в том, чтобы узнать цену всего заказа.

![](https://radioprog.ru/uploads/media/articles/0001/06/9aa3c79c147def1c5c8bff11bb0acb534ff1a52b.png)

Пример кода:

```python
class 
```

Решение
--------
Компоновщик предлагает рассматривать **Продукт** и **Коробку** через единый интерфейс с общим методом получения стоимости.

**Продукт** просто вернёт свою цену. **Коробка** спросит цену каждого предмета внутри себя и вернёт сумму результатов. Если одним из внутренних предметов окажется коробка поменьше, она тоже будет перебирать своё содержимое, и так далее, пока не будут посчитаны все составные части.
![](https://radioprog.ru/uploads/media/articles/0001/06/bb25cc24278cbe9b4e976aa0125111a77219b31b.png)
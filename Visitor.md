Автор : Сибагатуллин Алик
Посетитель (Visitor)
Поведенческий паттерн проектирвоания, который описывает операцию, выполняемую с каждым объектом из некоторой структуры.
Паттерн посетитель позволяет определить новую операцию, не изменяя классы этих объектов.
Посетитель (англ. visitor) — поведенческий шаблон проектирования, описывающий операцию, которая выполняется над объектами других классов. При изменении visitor нет необходимости изменять обслуживаемые классы.
Шаблон демонстрирует классический приём восстановления информации о потерянных типах, не прибегая к понижающему приведению типов при помощи двойной диспетчеризации.
Шаблон следует использовать, если:

1)имеются различные объекты разных классов с разными интерфейсами, но над ними нужно совершать операции, зависящие от конкретных классов;
2)необходимо над структурой выполнить различные, усложняющие структуру операции;
3)часто добавляются новые операции над структурой.
Преимущества:

упрощается добавление новых операций;
объединение родственных операции в классе Visitor;
класс Visitor может запоминать в себе какое-то состояние по мере обхода контейнера.
Недостатки:

затруднено добавление новых классов, поскольку нужно обновлять иерархию посетителя и его сыновей
